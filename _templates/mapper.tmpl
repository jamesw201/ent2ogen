{{ define "mappers" }}
{{ template "header" . }}

{{- $extCfg := $.Config.Annotations.Ent2ogen }}

import openapi "{{ $extCfg.OgenPackage }}"

{{- range $m := $extCfg.Mappings }}

{{- $rtype := sprintf "openapi.%s" $m.From.Name }}
func (e *{{ $m.From.Name }}) ToOpenAPI() {{ $rtype }} {
    return {{ $rtype }}{
        {{- range $f := $m.EntFields }}
            {{- if $m.HasOpenAPIField $f }}
            {{ $f.StructField }}: e.{{ $f.StructField }},
            {{- end }}
        {{- end }}
    }
}

{{- end }}
{{- end }}